{% extends "userpage.html" %}

{% block adminscripts %}
<script src="/assets/js/comment_modding.js"></script>
{% endblock %}

{% block content %}

<div class="row no-gutters">
  <div class="col">
    <div class="flex-row box-shadow-bottom d-flex justify-content-center justify-content-md-between align-items-center">
      <ul class="nav settings-nav">
        <li class="nav-item">
          <a class="nav-link" href="/@{{ u.username}}">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/@{{ u.username}}/comments">Comments</a>
        </li>    
      </ul>
    </div>
  </div>
</div>

<div class="row no-gutters">

  <div class="col">

    {% if u.comment_count>=1 %}
    <div class="posts p-3 p-md-0">
     {% for c in listing %}
     {{ c.rendered_comment(v=v, render_replies=False, standalone=True) | safe }}
     {% endfor%}
   </div>
   {% else %}
   <div class="text-center py-5">

    <img src="/assets/images/illustrations/searching.png" class="empty-state-img mb-3" alt="empty state">

    {% if v and v.id == u.id %}
    <div class="font-weight-bold text-muted">You haven't made a ruckus.</div>
    <div class="text-small text-muted mb-3">Your comments will show up here.</div>
    <a href="/" class="btn btn-primary">Go to frontpage</a>
    {% else %}
    <div class="font-weight-bold text-muted">No comments here...</div>
    <div class="text-small text-muted">@{{ u.username }} hasn't made a ruckus yet.</div>
    {% endif %}
  </div>
  {% endif %}
</div>
</div>
{% endblock %}