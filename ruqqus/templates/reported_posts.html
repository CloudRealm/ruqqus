{% extends "userpage.html" %}

{% block adminpanel %}{% endblock %}

{% block pagetype %}userpage{% endblock %}

{% block sidebarLeftblock %}
{% endblock %}



{% block enlargeThumbJS %}
<script src="/assets/js/enlarge_thumb.js"></script>
{% endblock %}

{% block fixedMobileBarJS %}
<script>
  var prevScrollpos = window.pageYOffset;
  window.onscroll = function () {
    var currentScrollPos = window.pageYOffset;
    if (prevScrollpos > currentScrollPos) {
      document.getElementById("fixed-bar-mobile").style.top = "49px";
      document.getElementById("navbar").classList.remove("shadow");
    } 
    else if (currentScrollPos <= 125) {
      document.getElementById("fixed-bar-mobile").style.top = "49px";
      document.getElementById("navbar").classList.remove("shadow");
    }
    else {
      document.getElementById("fixed-bar-mobile").style.top = "-49px";
      document.getElementById("dropdownMenuSortBy").classList.remove('show');
      document.getElementById("dropdownMenuFrom").classList.remove('show');
      document.getElementById("navbar").classList.add("shadow");
    }
    prevScrollpos = currentScrollPos;
  }
</script>
{% endblock %}

{% block title %}
<title>Reported Posts</title>
<meta name="description" content="on Ruqqus">
{% endblock %}


{% block sidebarblock %}
<div class="sidebar-section sidebar-profile-basic">
  <div class="body">
    <h1 class="h6 d-inline-block mb-0" style="color:black">Flagged Posts</h1>
	<p>Potentially off-topic posts reported by your readers are listed here.</p>

</div>
</div>
{% endblock %}

{% block content %}
<!-- Post filters bar visible only on medium devices or larger-->

<div class="row fixed-top bg-white border-0 shadow d-inline-flex d-md-none p-3" id="filter-bar-mobile" style="z-index: 100; top: 48px; transition: top 0.3s ease 0s;">

  <div class="col">

    <div class="d-flex flex-row flex-nowrap justify-content-between">

    </div>

  </div>

</div>

<div class="row justify-content-around mx-lg-5 d-block d-lg-none no-gutters">
  <div class="col bg-light border-bottom rounded-md p-3">
    <div class="profile-details">
      <div class="media">
      <div class="media-body">
        <h1 class="h6 d-inline-block">Flagged Posts</h1>

      </div>

    </div>

  </div>
</div>
</div>



<div class="flex-row tab-bar sticky d-block d-lg-none">

  <ul class="nav post-nav mr-auto">
    <li class="nav-item">
      <a class="nav-link active" href="/flagged/posts"><i class="fas fa-feather-alt"></i>Posts</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/flagged/comments"><i class="fas fa-comment-dots" aria-hidden="true"></i>Comments</a>
    </li>

  </ul>

</div>

<div class="row no-gutters">

  <div class="col">

    {% if listing | length ==0 %}    <div class="text-center py-5">

      <img src="/assets/images/illustrations/searching.png" class="empty-state-img mb-3" alt="empty state">

      <div class="font-weight-bold text-muted">Queue is empty.</div>
	</div>

    {% endif %}

    <div class="posts">
      {% include "submission_listing.html" %}
    </div>
  </div>
</div>
{% endblock %}


{% block pagenav %}
<nav aria-label="Page navigation">
  <ul class="pagination pagination-sm py-3 pl-3 mb-0">
    {% if page>1 %}
    <li class="page-item">
      <small><a class="page-link" href="?page={{ page-1 }}" tabindex="-1">Prev</a></small>
    </li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Prev</span></li>
    {% endif %}
    {% if next_exists %}
    <li class="page-item">
      <small><a class="page-link" href="?page={{ page+1 }}">Next</a></small>
    </li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Next</span></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}